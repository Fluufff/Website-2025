---
import { Picture } from 'astro:assets'

import Content from '../components/sections/Content.astro'

import dances from '../assets/images/dances.jpg'
import dd from '../assets/images/dd.jpg'
import finale from '../assets/images/finale.jpg'
import panels from '../assets/images/panels.jpg'
import AccordionItem from '../components/AccordionItem.astro'
import ProgramPreviewInner from './ProgramPreviewInner.vue'

interface Props {
  bg?: 'darker'
  id?: string
}

const { bg, id } = Astro.props
---

<Content headline="A glimpse between the leaves…" bg={bg} id={id} wider>
  <p>
    What awaits you amidst the foliage, you ask? Wander into our forest and you’ll find more than just trees. Expect
    dancing under enchanted lights, playful panels where knowledge meets laughter, and a grand finale where talents
    bloom. Whether you come to perform, explore, or simply be — there’s a path waiting for you here.
  </p>
  <ProgramPreviewInner client:load>
    <Fragment slot="accordion">
      <AccordionItem>
        <Fragment slot="header">Dances</Fragment>
        <p>
          Get ready to dance! Our DJs will keep the dance floor buzzing with a mix of styles — from House and Hardcore
          to Drum & Bass, Dubstep, Techno, and more. You bring the moves, we’ll bring the beats.
        </p>
      </AccordionItem>
      <AccordionItem>
        <Fragment slot="header">Panels</Fragment>
        <p>
          Each year, Flüüfff organizes a variety of panels — from more serious and informative ones like the
          <strong>Furry Femme</strong> panel, to lighter-hearted gatherings like the <strong>Coffee panel</strong>.
        </p>
        <p>
          Want to host your own? Submit your idea through the
          <a
            href="https://docs.google.com/forms/d/e/1FAIpQLSczO0qpWnzzL_B2frDOpYZfpuqQAjf41eO6tvjPiDxNQunPTg/viewform?usp=dialog"
          >
            Event Proposal Form
          </a>.
        </p>
      </AccordionItem>
      <AccordionItem>
        <Fragment slot="header">Dealer's Den</Fragment>
        <p>
          Wander into the <strong>Dealer's Den</strong>, where a gathering of artists and craftsfolk from our community
          offer their creations. From hand-drawn posters to cozy coasters, from fursuit parts to wearable art — you
          never know what treasures you’ll discover beneath the trees.
        </p>
      </AccordionItem>
      <AccordionItem>
        <Fragment slot="header">Flüüfff Finale</Fragment>
        <p>
          We’re wrapping up the convention in style with our brand-new <strong>Flüüfff Finale!</strong>
        </p>
        <p>
          By combining our traditional <strong>Show Night</strong> with the <strong>Closing Ceremony</strong>, we’re
          ending the weekend with a fantastic show filled with performances by and for our attendees.
        </p>
        <p>
          Got a talent to share, want to bring some magic to the stage, or put on a comedy act? Whether solo or with
          friends, we’d love to see you on stage — just send in your idea via the Act Proposal form.
        </p>
      </AccordionItem>
    </Fragment>
    <Fragment slot="pictures">
      <Picture class="active" src={dances} formats={['avif', 'webp']} fallbackFormat="jpg" alt="" widths={[400, 800]} />
      <Picture class="active" src={panels} formats={['avif', 'webp']} fallbackFormat="jpg" alt="" widths={[400, 800]} />
      <Picture class="active" src={dd} formats={['avif', 'webp']} fallbackFormat="jpg" alt="" widths={[400, 800]} />
      <Picture class="active" src={finale} formats={['avif', 'webp']} fallbackFormat="jpg" alt="" widths={[400, 800]} />
    </Fragment>
  </ProgramPreviewInner>
</Content>

<style lang="scss" is:global>
  @use '../styles/charter';
  @use '../styles/text-styles';

  .program_preview {
    display: flex;
    flex-direction: row;
    margin-top: 60px;

    .accordion {
      width: 50%;
      box-sizing: border-box;
      padding-right: 92px;

      .accordion-item__content + .accordion-item__header {
        border-top: solid 1px charter.$neutrals400;
      }

      .accordion-item__header {
        color: charter.$neutrals700;
        font-family: var(--font-gatsby), sans-serif;
        font-size: 32px;
        font-style: normal;
        font-weight: 400;
        line-height: 40px; /* 125% */
      }

      .accordion-item__content {
        color: charter.$neutrals600;

        font-family: var(--font-inter), sans-serif;
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 22px; /* 137.5% */
      }
    }

    .picture-switcher {
      img {
        height: 100%;
        width: 100%;
        object-fit: cover;
        object-position: center;
        border-radius: 8px;
      }
      pointer-events: none;
      position: relative;
      width: 50%;
    }
  }

  @media (max-width: 900px) {
    .program_preview {
      margin-top: 24px;
      .accordion {
        width: auto;
        padding-right: 0;

        .accordion-item__header {
          font-size: 22px;
          line-height: 22px;
        }
      }
      .picture-switcher {
        display: none;
      }
    }
  }
</style>
